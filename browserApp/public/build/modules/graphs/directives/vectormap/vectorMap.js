define(["modules/graphs/module","jquery-jvectormap","jquery-jvectormap-world-mill-en"],function(a){"use strict";a.registerDirective("vectorMap",function(){return{restrict:"EA",scope:{mapData:"="},link:function(a,b,c){var d=a.mapData;b.vectorMap({map:"world_mill_en",backgroundColor:"#fff",regionStyle:{initial:{fill:"#c4c4c4"},hover:{"fill-opacity":1}},series:{regions:[{values:d,scale:["#85a8b6","#4d7686"],normalizeFunction:"polynomial"}]},onRegionLabelShow:function(a,b,c){if("undefined"==typeof d[c])a.preventDefault();else{var e=d[c];b.html(b.html()+": "+e+" visits")}}}),b.on("$destroy",function(){b.children(".jvectormap-container").data("mapObject").remove()})}}})});